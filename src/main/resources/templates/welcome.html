<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deployment Choice Automation</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    

</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <a class="navbar-brand" href="/">Deployment Choice Automation</a>
    <div class="ml-auto">
        <!-- Dynamic connection status with Gorgias Cloud -->
        <span th:if="${userSession.connectionStatus}" class="badge badge-success">
            Connected to Gorgias Cloud <i class="fas fa-check-circle"></i>
        </span>
    </div>
</nav>

<!-- Main Container -->
<div class="container mt-5">
    <h2 class="display-5 text-center">Cloud Deployment Strategy Assistant</h2>
    <p class="lead text-center">Follow the steps in order to define your cloud deployment strategy.</p>

    <div class="workflow-container">
        
        <!-- Step 1 -->
        <div class="workflow-step">
            <h5><i class="fas fa-exclamation-circle"></i> Set Urgency Level</h5>
            <p>Specify urgency level and agency details.</p>
            <a href="/workflow/index" class="btn btn-primary btn-block" data-toggle="tooltip" title="Define urgency">Define Urgency</a>
            <div><strong>Status:</strong> 
                <span th:text="${urgencyStatus}" th:class="${urgencyStatus == '✅ Completed' ? 'badge badge-success' : 'badge badge-warning'}">⏳ Pending</span>
            </div>
        </div>

        <div class="workflow-arrow">➜</div>

        <!-- Step 2 -->
        <div class="workflow-step">
            <h5><i class="fas fa-server"></i> Choose Infrastructure</h5>
            <p>Select infrastructure needs.</p>
            <a href="/workflow/infrbroadcat" class="btn btn-primary btn-block" data-toggle="tooltip" title="Specify infrastructure">Define Infrastructure</a>
            <div><strong>Status:</strong> 
                <span th:text="${infrastructureStatus}" th:class="${infrastructureStatus == '✅ Completed' ? 'badge badge-success' : 'badge badge-warning'}">⏳ Pending</span>
            </div>
        </div>

        <div class="workflow-arrow">➜</div>

        <!-- Step 3 -->
        <div class="workflow-step">
            <h5><i class="fas fa-map-marker-alt"></i> Select Data Location</h5>
            <p>Define data type and cloud environment.</p>
            <a href="/workflow/location" class="btn btn-primary btn-block" data-toggle="tooltip" title="Choose location">Define Location</a>
            <div><strong>Status:</strong> 
                <span th:text="${locationStatus}" th:class="${locationStatus == '✅ Completed' ? 'badge badge-success' : 'badge badge-warning'}">⏳ Pending</span>
            </div>
        </div>

        <div class="workflow-arrow">➜</div>

        <!-- Step 4 -->
        <div class="workflow-step">
            <h5><i class="fas fa-memory"></i> Define Resources</h5>
            <p>Determine CPU, memory, and storage.</p>
            <a href="/workflow/resource-requirements" class="btn btn-primary btn-block" data-toggle="tooltip" title="Specify computing resources">Define Requirements</a>
            <div><strong>Status:</strong> 
                <span th:text="${resourceStatus}" th:class="${resourceStatus == '✅ Completed' ? 'badge badge-success' : 'badge badge-warning'}">⏳ Pending</span>
            </div>
        </div>

        <div class="workflow-arrow">➜</div>

        <!-- Step 5 -->
        <div class="workflow-step">
            <h5><i class="fas fa-chart-line"></i> Plan Scalability</h5>
            <p>Define scalability for peak loads.</p>
            <a href="/workflow/scalability-performance" class="btn btn-primary btn-block" data-toggle="tooltip" title="Define scalability">Define Scalability</a>
            <div><strong>Status:</strong> 
                <span th:text="${scalabilityStatus}" th:class="${scalabilityStatus == '✅ Completed' ? 'badge badge-success' : 'badge badge-warning'}">⏳ Pending</span>
            </div>
        </div>

        <div class="workflow-arrow">➜</div>

        <!-- Final Step -->
        <div class="workflow-step" style="background: #28a745; color: white;">
            <h5><i class="fas fa-check-circle"></i> Final Decision</h5>
            <p>Analyze all selections before finalizing.</p>
            <a href="/workflow/combined-decision-result" class="btn btn-light btn-block" data-toggle="tooltip" title="Review final selections">View Final Decision</a>
        </div>
    </div>
</div>

<div class="reset-container">
    <form action="/workflow/reset-status" method="post">
        <button type="submit" class="btn btn-warning reset-btn" data-toggle="tooltip" title="Reset all selections">
            <i class="fas fa-redo"></i> Reset Workflow
        </button>
    </form>
</div>

<!-- Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- Enable Tooltips -->
<script>
    $(document).ready(function(){
        $('[data-toggle="tooltip"]').tooltip(); 
    });
</script>

<!-- Footer -->
<footer class="text-center py-4 mt-5" style="background-color: #f8f9fa;">
    <p>&copy; 2024 Technical University of Crete. All Rights Reserved. <br>
       Developed as part of a research thesis in <strong>Cloud Deployment Strategy Decision System Using Argumentation</strong>.
    </p>
</footer>


</body>
</html>
